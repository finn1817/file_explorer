<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Liquid Glass File Explorer ‚Äî Overview + Simple Demo</title>
		<style>
			:root {
				--bg: #0d0f14;
				--panel: #141821;
				--panel-2: #0e1218;
				--text: #eef2f8;
				--muted: #aab3c2;
				--accent: #5cc8ff;
				--accent-2: #9aa0ff;
				--ok: #34d399;
				--warn: #f59e0b;
				--border: rgba(255,255,255,0.08);
				--border-2: rgba(255,255,255,0.06);
				--btn-bg: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
			}
			html, body { margin:0; padding:0; height:100%; background: radial-gradient(1200px 600px at 20% -10%, rgba(92,200,255,0.08), transparent), radial-gradient(900px 500px at 110% 10%, rgba(154,160,255,0.06), transparent), var(--bg); color:var(--text); font-family: Segoe UI, system-ui, Roboto, Helvetica, Arial, sans-serif; }
			a { color: var(--accent); text-decoration: none; }
			a:hover { text-decoration: underline; }
			.container { max-width: 1280px; margin: 0 auto; padding: 18px 20px; }
			.muted { color: var(--muted); }
			.badge { display:inline-block; padding:2px 6px; border-radius:6px; font-size:12px; border:1px solid var(--border); color: var(--muted); }

			/* Top window bar mimic */
			.windowbar { display:flex; align-items:center; gap:10px; padding: 8px; background: var(--panel); border:1px solid var(--border); border-radius: 12px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.05), 0 10px 30px rgba(0,0,0,0.35); backdrop-filter: blur(6px); }
			.btn { display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; border:1px solid var(--border); background: var(--btn-bg); color:var(--text); cursor:pointer; }
			.btn:hover { border-color: rgba(255,255,255,0.12); }
			.field { flex:1; display:flex; align-items:center; gap:8px; padding: 8px 10px; background: var(--panel-2); color:var(--text); border:1px solid var(--border-2); border-radius:10px; }
			.field input { flex:1; background:transparent; border:0; outline:0; color:var(--text); font-size: 14px; }

			/* Actions toolbar */
			.actions { display:flex; align-items:center; gap:10px; margin-top: 10px; padding: 8px; background: var(--panel); border:1px solid var(--border); border-radius: 12px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.05); }

			/* Layout */
			.layout { display:grid; grid-template-columns: 280px 1fr; gap: 14px; margin-top: 14px; }
			.sidebar { display:flex; flex-direction:column; gap: 12px; }
			.card { background: var(--panel); border:1px solid var(--border); border-radius:12px; padding: 12px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.05); }
			.section-title { font-weight:600; color:var(--muted); margin: 4px 0 10px; }
			.qa-item { display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:10px; border:1px solid var(--border-2); background: var(--panel-2); cursor:pointer; }
			.qa-item:hover { border-color: rgba(255,255,255,0.12); }
			.qa-list { display:flex; flex-direction:column; gap: 8px; }
			.favorites-empty { text-align:center; color:var(--muted); font-style: italic; padding: 18px 6px; }

			/* File view */
			.fileview { background: var(--panel); border:1px solid var(--border); border-radius:12px; overflow:hidden; }
			table { width:100%; border-collapse: collapse; }
			th, td { text-align:left; padding: 10px 12px; border-bottom:1px solid var(--border-2); }
			thead th { color: var(--muted); background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03)); position: sticky; top: 0; backdrop-filter: blur(4px); }
			tr:hover td { background: rgba(255,255,255,0.02); }
			tr.selected td { background: rgba(92,200,255,0.08); }
			.name { display:flex; align-items:center; gap:10px; }
			.icon { width:18px; height:18px; display:inline-grid; place-items:center; background: #1c212c; border:1px solid var(--border-2); border-radius:6px; font-size:12px; }
			.band { color: var(--warn); }
			@media (max-width: 980px) { .layout { grid-template-columns: 1fr; } }

			/* Toast */
			#toast { position: fixed; right: 18px; bottom: 18px; background: var(--panel); border:1px solid var(--border); color: var(--text); padding:10px 12px; border-radius:10px; box-shadow: 0 10px 30px rgba(0,0,0,0.35); opacity:0; transform: translateY(8px); transition: all .22s ease; pointer-events:none; }
			#toast.show { opacity:1; transform: translateY(0); }
		</style>
</head>
<body>
	<div class="container">
			<!-- Top title and quick links -->
			<header class="row" style="justify-content:space-between; margin-bottom:10px;">
				<h1 style="font-size:1.25rem; margin:0;">Liquid Glass File Explorer ‚Äî Overview + Simple Demo</h1>
				<nav class="row">
					<a href="schema.html" class="pill">Schema</a>
					<a href="#demo" class="pill">Jump to Demo</a>
				</nav>
			</header>

		<div class="card" style="margin-bottom:16px;">
			<p class="muted">A modern PyQt6 desktop file explorer with:
			</p>
			<ul>
				<li>Fit-to-screen window and movable toolbars</li>
				<li>Explorer-like columns (Name, Size, Type, Date Modified)</li>
				<li>Accurate file size formatting; folder sizes computed async and cached</li>
				<li>Large-size banding: precise below 25 GB; 25+ GB, 50+ GB, 100+ GB above</li>
				<li>Bookmarks and Side Apps (managed folders) + run-on-start</li>
				<li>Search filters within the current folder (no root jump)</li>
				<li>JSON-backed data in <code>app-code/data</code>; no .pyc on disk</li>
			</ul>
			<p class="muted">This page includes a zero-save, browser-only demo that mimics the UI behavior using sample data.</p>
		</div>

			<h2 id="demo" style="margin:12px 0">Simple Demo (no saving)</h2>

			<!-- Navigation toolbar (mimic app) -->
			<div class="windowbar">
				<button class="btn" id="backBtn">‚¨Ö Back</button>
				<button class="btn" id="forwardBtn">‚û° Forward</button>
				<button class="btn" id="upBtn">‚¨Ü Up</button>
				<button class="btn" id="refreshBtn">üîÑ Refresh</button>
				<div class="field" title="Address">
					<span>üìÅ</span>
					<input id="address" type="text" placeholder="C:/Users/you" readonly>
				</div>
				<div class="field" title="Search in current folder">
					<span>üîé</span>
					<input id="search" type="text" placeholder="Search files...">
				</div>
			</div>

			<!-- Actions toolbar (mimic app) -->
			<div class="actions">
				<button class="btn" id="newFolder">üìÅ New Folder</button>
				<button class="btn" id="copyBtn">üìã Copy</button>
				<button class="btn" id="cutBtn">‚úÇÔ∏è Cut</button>
				<button class="btn" id="pasteBtn">üìå Paste</button>
				<button class="btn" id="renameBtn">‚úèÔ∏è Rename</button>
				<button class="btn" id="deleteBtn">üóëÔ∏è Delete</button>
				<button class="btn" id="favBtn">‚≠ê Add to Favorites</button>
			</div>

			<div class="layout">
				<!-- Sidebar mimic -->
				<aside class="sidebar">
					<div class="card">
						<div class="section-title">Quick Access</div>
						<div class="qa-list">
							<div class="qa-item" data-target="Desktop">üñ•Ô∏è Desktop</div>
							<div class="qa-item" data-target="Documents">üìÑ Documents</div>
							<div class="qa-item" data-target="Downloads">‚¨áÔ∏è Downloads</div>
							<div class="qa-item" data-target="Pictures">üñºÔ∏è Pictures</div>
							<div class="qa-item" data-target="Videos">üé¨ Videos</div>
							<div class="qa-item" data-target="Music">üéµ Music</div>
							<div class="qa-item" data-target="Bookmarks">üìë Bookmarks</div>
							<div class="qa-item" data-target="SideApps">üß© Side Apps</div>
						</div>
					</div>
					<div class="card">
						<div class="section-title">‚≠ê Favorites</div>
						<div id="favoritesList" class="qa-list"></div>
						<div id="favoritesEmpty" class="favorites-empty">Nothing Favorited Yet</div>
					</div>
					<div class="card">
						<div class="section-title">üìë Bookmarks (demo / in-memory)</div>
						<div class="qa-list" id="bookmarks"></div>
					</div>
					<div class="card">
						<div class="section-title">üß© Side Apps (demo / in-memory)</div>
						<div class="qa-list" id="sideapps"></div>
					</div>
				</aside>

				<!-- Main file list -->
				<section class="fileview">
					<table>
						<thead>
							<tr>
								<th style="width:52%">Name</th>
								<th style="width:15%">Size</th>
								<th style="width:15%">Type</th>
								<th style="width:18%">Date Modified</th>
							</tr>
						</thead>
						<tbody id="rows"></tbody>
					</table>
				</section>
			</div>

		<div class="footer">
			<p>Tip: To publish this page via GitHub Pages, enable Pages in your repo settings and select the branch/folder that contains this <code>index.html</code>.</p>
		</div>
	</div>

	<script>
		// -------- Helpers to build demo data --------
		function daysAgo(n){ const d=new Date(); d.setDate(d.getDate()-n); return d; }
		const gb = 1024**3; const mb = 1024**2;
		function file(name, sizeBytes, mtimeDays){ return { name, type:'File', size: Math.trunc(sizeBytes), mtime: daysAgo(mtimeDays??1) }; }
		function folder(name, children, mtimeDays){ return { name, type:'Folder', mtime: daysAgo(mtimeDays??1), children: children||[] }; }
		function seq(n, fn){ const out=[]; for(let i=0;i<n;i++) out.push(fn(i)); return out; }
		function uniqueName(base, siblings){ let name=base; const exists=new Set((siblings||[]).map(s=>s.name.toLowerCase())); if(!exists.has(name.toLowerCase())) return name; let k=2; while(exists.has(`${base} (${k})`.toLowerCase())) k++; return `${base} (${k})`; }

		// -------- Demo dataset (no saving) --------
		const sampleFS = folder('/', [
			folder('Desktop', [
				file('Continue Working.txt', 2*mb, 40),
				file('Notes.log', 2200, 40),
				folder('Screenshots', seq(12, i=> file(`Screenshot ${i+1}.png`, (1.2+i*0.1)*mb, 5)))
			], 6),
			folder('Documents', [
				folder('Reports', seq(12, i=> file(`Report Q${i+1}.docx`, (500+i*30)*1024, 10))),
				folder('Spreadsheets', seq(8, i=> file(`Budget_${2020+i}.xlsx`, (2+i*0.3)*mb, 12))),
				file('Project Plan.docx', 1.8*mb, 9)
			], 3),
			folder('Downloads', [
				file('installer.msi', 1017*mb, 2),
				file('driver.zip', 420*mb, 1),
				file('manual.pdf', 7*mb, 3)
			], 2),
			folder('Pictures', [
				folder('Holidays', seq(15, i=> file(`IMG_${String(i+1).padStart(4,'0')}.jpg`, (3+i*0.2)*mb, 8))),
				file('wallpaper.png', 6.5*mb, 8)
			], 8),
			folder('Videos', [
				file('trip.mp4', 7.8*gb, 2),
				file('event.mov', 52*gb, 2),
				file('lecture.mkv', 26*gb, 7)
			], 1),
			folder('BigData', [ file('dataset.bin', 120*gb, 2) ], 2),
			folder('Music', [
				folder('Artist A', seq(10, i=> file(`Track_${i+1}.flac`, (80+i*2)*mb, 4))),
				folder('Artist B', seq(8, i=> file(`Song_${i+1}.mp3`, (6+i*0.5)*mb, 3)))
			], 1),
			folder('Program Files', [ folder('SampleApp', [file('SampleApp.exe', 45*mb, 100), file('readme.txt', 8*1024, 100)]) ], 120),
			folder('Windows', [file('system32_placeholder.dll', 2*mb, 200)], 200),
			folder('Temp', seq(20, i=> file(`tmp_${i}.tmp`, 10*1024 + i*512, 0)), 0)
		]);

		// In-memory demo state
		let cwd = sampleFS.children.find(c=>c.name==='Desktop') || sampleFS; // start at Desktop for a fuller first view
		let bookmarks = [ { name:'Work Docs', node: sampleFS.children.find(c=>c.name==='Documents') } ];
		let sideapps = [ { name:'SampleApp', node: sampleFS.children.find(c=>c.name==='Program Files').children[0] } ];
		let historyStack = [];
		let forwardStack = [];
		let selected = null;
		const folderSizeCache = new Map();

		// -------- Size formatting & banding (mirrors app rules) --------
		function humanSize(bytes){
			if (bytes == null) return "‚Äì";
			if (bytes < 1024) return `${Math.trunc(bytes)} B`;
			const units = ["KB","MB","GB","TB","PB"]; let s=bytes/1024; let i=0;
			while (s >= 1024 && i < units.length-1) { s/=1024; i++; }
			if (s < 10) return `${s.toFixed(2)} ${units[i]}`;
			if (s < 100) return `${s.toFixed(1)} ${units[i]}`;
			return `${s.toFixed(0)} ${units[i]}`;
		}
		function bandLabel(bytes){
			if (bytes >= 100*gb) return "100+ GB";
			if (bytes >= 50*gb) return "50+ GB";
			if (bytes >= 25*gb) return "25+ GB";
			return "";
		}
		function displaySize(bytes){
			if (bytes < 25*gb) return humanSize(bytes);
			return bandLabel(bytes);
		}

		// -------- Folder size (demo async + cache) --------
		function computeFolderSize(node){
			// Simulate async compute and cache
			if (folderSizeCache.has(node)) return Promise.resolve(folderSizeCache.get(node));
			return new Promise(resolve => {
				setTimeout(() => {
					const total = sumFolder(node);
					folderSizeCache.set(node, total);
					resolve(total);
				}, 200); // small delay to show "‚Ä¶"
			});
		}
		function sumFolder(node){
			if (!node.children) return 0;
			let total = 0;
			for (const ch of node.children){
				if (ch.type === "File") total += Math.trunc(ch.size || 0);
				else total += sumFolder(ch);
			}
			return total;
		}

		// -------- Rendering --------
		const rowsEl = document.getElementById('rows');
		const addressEl = document.getElementById('address');
		const searchEl = document.getElementById('search');
		const bookmarksEl = document.getElementById('bookmarks');
		const sideappsEl = document.getElementById('sideapps');
		const favoritesListEl = document.getElementById('favoritesList');
		const favoritesEmptyEl = document.getElementById('favoritesEmpty');

		// Toast element
		const toastEl = document.createElement('div');
		toastEl.id = 'toast';
		document.body.appendChild(toastEl);
		function toast(msg){ toastEl.textContent = msg; toastEl.classList.add('show'); setTimeout(()=>toastEl.classList.remove('show'), 1400); }

		function pathOf(node){
			const parts=[]; let cur=node; while (cur && cur!==sampleFS){ parts.unshift(cur.name); cur=cur.parent; }
			return '/' + parts.join('/');
		}
		function setParents(node){
			if (!node.children) return;
			for (const ch of node.children){ ch.parent = node; if (ch.type === 'Folder') setParents(ch); }
		}
		setParents(sampleFS);

		function render(){
			addressEl.value = pathOf(cwd) || '/';
			const filter = (searchEl.value || '').toLowerCase();
			const children = (cwd.children||[]).filter(ch => ch.name.toLowerCase().includes(filter));
			rowsEl.innerHTML = '';
			for (const item of children){
				const tr = document.createElement('tr');
				if (item===selected) tr.classList.add('selected');
				// Name
				const nameTd = document.createElement('td');
				nameTd.className = 'name';
					const nameLink = document.createElement('a');
					nameLink.href = '#';
					const icon = document.createElement('span'); icon.className='icon'; icon.textContent = item.type==='Folder'?'üìÅ':'üìÑ';
					const label = document.createElement('span'); label.textContent = item.name;
					nameLink.append(icon, label);
				nameLink.addEventListener('click', (e)=>{ e.preventDefault(); if(item.type==='Folder'){ navigateTo(item); } });
				tr.addEventListener('click', ()=>{ selected = item; render(); });
				tr.addEventListener('dblclick', ()=>{ if(item.type==='Folder') navigateTo(item); else toast(`Demo: Would open ${item.name}`); });
				const addBtns = document.createElement('span');
				addBtns.innerHTML = `
					<button class="pill" title="Add to Bookmarks">‚≠ê</button>
					<button class="pill" title="Add to Side Apps">üß©</button>
					${item.type==='File' ? '<button class="pill" title="Run (demo)">‚ñ∂Ô∏è</button>' : ''}
				`;
				addBtns.querySelectorAll('button')[0].onclick = ()=>{ bookmarks.push({ name:item.name, node:item }); renderSideLists(); toast('Added to Bookmarks'); };
				addBtns.querySelectorAll('button')[1].onclick = ()=>{ sideapps.push({ name:item.name, node:item }); renderSideLists(); toast('Added to Side Apps'); };
				if (item.type==='File') addBtns.querySelectorAll('button')[2].onclick = ()=>{ toast(`Demo: Would run ${item.name}`); };
				nameTd.append(nameLink, addBtns);
				tr.appendChild(nameTd);
				// Size
				const sizeTd = document.createElement('td');
				sizeTd.title = '‚Äî';
				if (item.type === 'File'){
					sizeTd.textContent = displaySize(Math.trunc(item.size||0));
					sizeTd.title = `Exact size: ${Math.trunc(item.size||0).toLocaleString()} bytes\n(${humanSize(Math.trunc(item.size||0))})` + (bandLabel(item.size) ? `\nBand: ${bandLabel(item.size)}` : '');
					if (bandLabel(item.size)) sizeTd.classList.add('band');
				} else {
					sizeTd.textContent = '‚Ä¶';
					sizeTd.title = 'Computing folder size‚Ä¶';
					computeFolderSize(item).then(total=>{
						sizeTd.textContent = displaySize(total);
						sizeTd.title = `Exact size: ${total.toLocaleString()} bytes\n(${humanSize(total)})` + (bandLabel(total) ? `\nBand: ${bandLabel(total)}` : '');
						if (bandLabel(total)) sizeTd.classList.add('band');
					});
				}
				tr.appendChild(sizeTd);
				// Type
				const typeTd = document.createElement('td'); typeTd.textContent = item.type === 'Folder' ? 'Folder' : fileTypeFromName(item.name);
				tr.appendChild(typeTd);
				// Date Modified
				const dtTd = document.createElement('td'); dtTd.textContent = fmtDate(item.mtime); tr.appendChild(dtTd);
				rowsEl.appendChild(tr);
			}
		}

		function fmtDate(d){ const dd=new Date(d); return dd.toLocaleString(); }
		function fileTypeFromName(name){
			const lower = name.toLowerCase();
			if (lower.endsWith('.exe')) return 'Executable';
			if (lower.endsWith('.mp4')||lower.endsWith('.mov')) return 'Video';
			if (lower.endsWith('.png')||lower.endsWith('.jpg')||lower.endsWith('.jpeg')) return 'Image';
			if (lower.endsWith('.xlsx')||lower.endsWith('.csv')) return 'Spreadsheet';
			if (lower.endsWith('.doc')||lower.endsWith('.docx')||lower.endsWith('.rtf')) return 'Document';
			return 'File';
		}

			function renderSideLists(){
				bookmarksEl.innerHTML = bookmarks.map((b,i)=>`<button class="pill" title="Go / Remove" onclick="openBookmark(${i})">‚≠ê ${b.name}<span> √ó</span></button>`).join('') || '<div class="muted">(none)</div>';
				sideappsEl.innerHTML = sideapps.map((s,i)=>`<button class="pill" title="Run / Remove" onclick="openSideApp(${i})">üß© ${s.name}<span> √ó</span></button>`).join('') || '<div class="muted">(none)</div>';
				const favsHtml = favorites.map((f,i)=>`<div class="qa-item" title="Go / Remove" onclick="openFavorite(${i})">‚≠ê ${f.name}<span style="margin-left:auto;opacity:.6;">√ó</span></div>`).join('');
				favoritesListEl.innerHTML = favsHtml;
				favoritesEmptyEl.style.display = favorites.length ? 'none' : 'block';
			}
		window.openBookmark = (i)=>{ const b=bookmarks[i]; if(!b) return; if(event && event.target && event.target.textContent===' √ó'){ bookmarks.splice(i,1); renderSideLists(); return; } navigateToParentOf(b.node); toast('Opened bookmark'); }
		window.openSideApp = (i)=>{ const s=sideapps[i]; if(!s) return; if(event && event.target && event.target.textContent===' √ó'){ sideapps.splice(i,1); renderSideLists(); return; } toast(`Demo: Would run ${s.name}`); }
		window.openFavorite = (i)=>{ const f=favorites[i]; if(!f) return; if(event && event.target && event.target.textContent==='√ó'){ favorites.splice(i,1); renderSideLists(); return; } navigateToParentOf(f.node); selected = f.node; render(); }

		// -------- Navigation & events --------
			document.getElementById('backBtn').onclick = ()=>{ if (historyStack.length){ forwardStack.push(cwd); cwd = historyStack.pop(); selected=null; render(); } else toast('No back history'); };
			document.getElementById('forwardBtn').onclick = ()=>{ if (forwardStack.length){ historyStack.push(cwd); cwd = forwardStack.pop(); selected=null; render(); } else toast('No forward history'); };
		document.getElementById('upBtn').onclick = ()=>{ if (cwd.parent){ historyStack.push(cwd); forwardStack.length=0; cwd = cwd.parent; selected=null; render(); } else toast('Already at root'); };
		document.getElementById('refreshBtn').onclick = ()=>{ render(); toast('Refreshed'); };
		addressEl.addEventListener('change', ()=>{ /* demo: address is read-only visual */ render(); });
		searchEl.addEventListener('input', ()=> render());

			// Favorites demo wiring and actions
			const favorites = [];
			document.getElementById('favBtn').onclick = ()=>{
				const sel = selected || (cwd.children||[])[0];
				if (!sel) return toast('Nothing to favorite here');
				favorites.push({ name: sel.name, node: sel });
				renderSideLists(); toast('Added to Favorites');
			};
			let clipboard = { items: [], cut:false, from:null };
			document.getElementById('newFolder').onclick = ()=>{ const name = uniqueName('New Folder', cwd.children||[]); (cwd.children||=[]).push(folder(name, [])); selected = (cwd.children||[]).find(ch=>ch.name===name); render(); toast(`Created ${name}`); };
			document.getElementById('copyBtn').onclick = ()=>{ if(!selected) return toast('Select an item to copy'); clipboard={ items:[selected], cut:false, from:selected.parent }; toast(`Copied ${selected.name}`); };
			document.getElementById('cutBtn').onclick = ()=>{ if(!selected) return toast('Select an item to cut'); clipboard={ items:[selected], cut:true, from:selected.parent }; toast(`Cut ${selected.name}`); };
			document.getElementById('pasteBtn').onclick = ()=>{
				if(!clipboard.items.length) return toast('Clipboard is empty');
				const item = clipboard.items[0];
				if(clipboard.cut){
					const idx = clipboard.from.children.indexOf(item);
					if(idx>=0) clipboard.from.children.splice(idx,1);
					item.parent = cwd;
					item.name = uniqueName(item.name, cwd.children||[]);
					(cwd.children||=[]).push(item);
					clipboard = { items:[], cut:false, from:null };
					selected = item; render(); toast('Moved item');
				}else{
					const clone = deepClone(item);
					clone.name = uniqueName(item.name + ' - Copy', cwd.children||[]);
					clone.parent = cwd;
					(cwd.children||[]).push(clone);
					selected = clone; render(); toast('Pasted copy');
				}
			};
			document.getElementById('renameBtn').onclick = ()=>{
				if(!selected) return toast('Select an item to rename');
				const newName = prompt('Rename to:', selected.name);
				if(!newName || newName===selected.name) return;
				selected.name = uniqueName(newName, selected.parent.children||[]);
				render(); toast('Renamed');
			};
			document.getElementById('deleteBtn').onclick = ()=>{
				if(!selected) return toast('Select an item to delete');
				const arr = selected.parent.children||[]; const idx = arr.indexOf(selected); if(idx>=0) arr.splice(idx,1);
				toast(`Deleted ${selected.name}`); selected=null; render();
			};

			// Quick Access navigation
			document.querySelectorAll('.qa-item').forEach(el=>{
				el.addEventListener('click', ()=>{
					const t = el.getAttribute('data-target');
					if (t==='Bookmarks' || t==='SideApps') return; // demo lists on sidebar only
					const target = findByName(sampleFS, t);
					if (target){ navigateTo(target); }
				});
			});

		function deepClone(node){ return JSON.parse(JSON.stringify(node)); }
		function findByName(node, name){ if(node.name===name) return node; if(!node.children) return null; for(const ch of node.children){ const f=findByName(ch, name); if(f) return f; } return null; }
		function navigateToParentOf(node){ if(!node || !node.parent) return; navigateTo(node.parent); selected = node; render(); }
		function navigateTo(target){ if(!target) return; historyStack.push(cwd); forwardStack.length=0; cwd = target; selected=null; render(); }

		render();
		renderSideLists();
	</script>
</body>
</html>
